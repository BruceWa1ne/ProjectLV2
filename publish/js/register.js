"use strict";$(function(){var t=$("#username"),n=$("#password"),e=$("#submitBtn"),r=!1,a=!1;t.blur(function(e){e.preventDefault(),console.log("用户名输入完毕");var o=t.val();/^[^\d]\w{5,9}$/.test(o)?$.ajax({url:"/php/checkusername.php",type:"GET",data:{username:t.val()},dataType:"json"}).then(function(e){if(console.log(e),e.error)throw new Error(e.msg);console.log(e.msg),r=!0}).catch(function(e){console.log(e),r=!1}):r=!1}),n.blur(function(e){e.preventDefault(),console.log("密码输入完毕");var o=n.val();a=!!/^[^\d]\w{5,9}$/.test(o)}),e.click(function(e){e.preventDefault(),console.log(r,a),r&&a&&$.ajax({url:"/php/register.php",type:"POST",data:{username:t.val(),password:n.val()},dataType:"json"}).then(function(e){if(e.error)throw new Error(e.msg);alert(e.msg),location.href="./login.html"}).catch(function(e){alert("注册失败!")})})});